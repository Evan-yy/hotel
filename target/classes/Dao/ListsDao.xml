<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Dao.ListsDao">
    <resultMap type="domain.Lists" id="listMap">
        <id column="list_id" property="lid"/>
        <result column="customer_name" property="customerName"/>
        <result column="customer_id" property="customerID"/>
        <result column="room_id" property="roomid"/>
        <result column="room_type" property="roomType"/>
        <result column="room_price" property="roomprice"/>
        <result column="guest_day" property="day"/>
        <result column="list_state" property="state"/>
        <result column="total" property="Total"/>
        <result column="live_time" property="livetime"/>
        <result column="out_time" property="outtime"/>



    </resultMap>

    <!--配置查询所有-->
    <select id="findAll" resultMap="listMap">
        select * from list;
    </select>

    <insert id="SaveList" parameterType="domain.Lists">
        insert into list(list_id,customer_name,customer_id,room_id,room_type,room_price,guest_day,list_state,total,live_time,out_time)values(#{lid},#{customerName},#{customerID}, #{roomid}, #{roomType},#{roomprice},#{day},#{state},#{Total},#{livetime},#{outtime});
    </insert>

    <select id="last" resultMap="listMap">
        select * from list order by list_id desc limit 1;
    </select>

    <select id="findList" resultMap="listMap">
        select * from list where room_id=#{roomid} AND list_state=#{state};
    </select>


    <update id="updateList" parameterType="domain.Lists">
        update list set list_state=#{state},out_time=#{outtime} where list_id=#{lid};
    </update>



</mapper>